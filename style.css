:root{
  --black:#0a0a0a; --offblack:#121212; --white:#fff; --offwhite:#f5f5f2;
  --red:#e21b23; --red-strong:#b9151b;
  --line:rgba(226,27,35,.22);
  --shadow:0 10px 30px rgba(0,0,0,.35);
  --maxw:1160px;

  --space-xxl:72px; --space-xl:56px; --space-lg:36px; --space-md:22px; --space-sm:14px;
  --radius:14px; --radius-lg:18px;
  --letter-wide:.04em;
}

/* Base */
*{box-sizing:border-box}
html,body{height:100%}
html{width:100vw; overflow-x:hidden}
body{
  margin:0; background:var(--black); color:var(--offwhite);
  font-family:"Lora",serif; line-height:1.6; -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}
a{color:var(--red); text-decoration:none}
a:hover{opacity:.9}
.container{max-width:var(--maxw); margin:0 auto; padding:0 18px}

/* Headings */
h1,h2,h3{font-family:"Cinzel",serif; color:var(--white); letter-spacing:.02em; margin:0 0 12px}
h1{font-size:32px; line-height:1.15}
.section-title{font-size:26px}
.section-sub{color:#e0dfdc; margin:6px 0 var(--space-lg); max-width:72ch}

/* Skip link */
.skip{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
.skip:focus{left:12px;top:12px;width:auto;height:auto;background:#000;color:#fff;padding:8px 10px;border-radius:6px;z-index:9999}

.intro{position:fixed; inset:0; z-index:1000; display:grid; place-items:center; background:var(--black); color:var(--offwhite); transition:opacity .45s ease, visibility .45s ease}
.intro.is-hidden{opacity:0; visibility:hidden; pointer-events:none}
.intro-inner{
  text-align:center; padding:28px 24px 30px;
  border:1px solid rgba(226,27,35,.25); border-radius:var(--radius-lg);
  background:radial-gradient(900px 600px at 50% 20%, rgba(226,27,35,.08), transparent 60%), #0a0a0a;
  box-shadow:var(--shadow)
}
.intro-logo{width:140px;height:140px;object-fit:contain;margin-bottom:12px}
.intro-title{font-size:28px;margin:6px 0 8px}
.intro-sub{color:#e0dfdc;font-size:15px;margin:0 0 16px}

/* Buttons / pills */
.pill{
  display:inline-block; padding:12px 16px; border:1px solid var(--red); border-radius:999px;
  transition:transform .12s ease, background .12s ease, border-color .12s ease
}
.pill:hover{background:rgba(226,27,35,.08); transform:translateY(-1px)}
.pill.primary{background:var(--red); color:#fff; border-color:transparent; font-weight:700}
.pill.primary:hover{background:var(--red-strong)}

/* ===========================
   NAV
   =========================== */
.nav{position:sticky; top:0; z-index:60; backdrop-filter:saturate(140%) blur(6px); background:rgba(12,12,12,.7); border-bottom:1px solid var(--line)}
.nav-inner{display:flex; align-items:center; justify-content:space-between; gap:12px; height:64px}
.brand-wrap{display:flex; align-items:center; gap:10px}
.nav-logo{height:44px; width:auto; object-fit:contain}
.brand{font-family:"Cinzel",serif; letter-spacing:.08em; font-weight:700; font-size:18px; color:var(--white)}
.nav-link{padding:10px 8px}

/* Drawer mobile */
.mobile-menu{position:fixed; top:0; right:0; height:100dvh; width:min(340px,86vw); background:#0b0b0b; border-left:1px solid var(--line); transform:translateX(100%); transition:transform .25s ease; z-index:999; padding:80px 20px 20px; overflow-y:auto}
.mobile-menu.open{transform:translateX(0)}
.mobile-menu .close-drawer{position:absolute; top:20px; right:20px; width:44px;height:44px;border-radius:10px;border:1px solid var(--line);background:rgba(20,20,20,.9);color:#fff;font-size:24px;line-height:1}
.mobile-menu ul{list-style:none;margin:0;padding:0;display:grid;gap:16px}
.mobile-menu a{display:block;padding:14px 16px;border:1px solid var(--line);border-radius:12px;font-size:18px;background:rgba(20,20,20,.6);color:var(--offwhite)}
.backdrop{position:fixed; inset:0; background:rgba(0,0,0,.45); z-index:998}
.hamburger{display:none; position:relative; width:44px; height:40px; padding:0; border:1px solid var(--line); border-radius:10px; background:rgba(12,12,12,.6); cursor:pointer}
.hamburger span{position:absolute; left:8px; right:8px; height:2px; background:var(--offwhite); border-radius:2px}
.hamburger span:nth-child(1){top:11px} .hamburger span:nth-child(2){top:19px} .hamburger span:nth-child(3){top:27px}
.right-actions{display:flex; gap:10px; align-items:center}

/* ===========================
   HERO
   =========================== */
.hero{position:relative; min-height:88dvh; display:grid; place-items:center; overflow:hidden; background:var(--black)}
.hero::before{
  content:""; position:absolute; inset:0;
  background:linear-gradient(180deg, rgba(10,10,10,.3) 0%, rgba(10,10,10,.88) 70%),
             url('https://images.unsplash.com/photo-1521417531039-c9f6d0b3d8d2?q=80&w=1920&auto=format&fit=crop') center/cover no-repeat;
  filter:saturate(.95) contrast(1.06)
}
.hero-inner{position:relative; z-index:2; width:100%}
.manifesto{text-align:center; max-width:920px; margin:0 auto; padding:0 8px}
.kicker{font-family:"Cinzel",serif; letter-spacing:var(--letter-wide); color:var(--red); font-size:18px; margin-bottom:6px}
.lead{font-size:16px; line-height:1.55; max-width:78ch; margin:0 auto; color:#f2f1ed}
.hero-cta,.cta-row{margin-top:18px; display:flex; gap:12px; flex-wrap:wrap; justify-content:center}

.tags-row {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: center;
  margin-top: 18px;
}

.tag-pill {
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid rgba(226,27,35,.28);
  background: rgba(226,27,35,.06);
  font-size: 14px;
  color: var(--offwhite);
}

/* ===========================
   SEZIONI
   =========================== */
section{padding:56px 0}
.center{text-align:center}
.divider{height:1px; background:var(--line); margin:18px 0}

/* ===========================
   BIO / INFO
   =========================== */
.bio-section{background:linear-gradient(180deg,#0a0a0a,#0e0e0e); border-top:1px solid var(--line); border-bottom:1px solid var(--line)}
.bio-grid{display:grid; grid-template-columns:1fr; gap:20px; align-items:center}
.bio-text p{font-size:16px; line-height:1.6; color:var(--offwhite)}
.bio-text .bio-points{margin:12px 0 0; padding-left:18px}
.bio-photo{
  border:1px solid var(--line); border-radius:16px; box-shadow:var(--shadow); overflow:hidden;
  aspect-ratio:4/3; background:url('https://images.unsplash.com/photo-1549719386-74dfcbf7dbed?q=80&w=1300&auto=format&fit=crop') center/cover no-repeat
}

/* ===========================
   CARDS (orari)
   =========================== */
.card-list{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(240px,1fr));
  gap:16px
}
.card{
  border:1px solid rgba(226,27,35,.28);
  border-radius:12px;
  padding:16px;
  background:linear-gradient(180deg, rgba(226,27,35,.05), rgba(226,27,35,.02));
  min-height:120px
}
.card h3{margin:0 0 8px; font-size:18px}
.card ul{margin:0; padding-left:18px}
.card li{margin:6px 0; font-size:15px}

/* ===========================
   CONTATTI
   =========================== */
.contact{border-top:1px solid var(--line); border-bottom:1px solid var(--line); background:linear-gradient(180deg,#0a0a0a,#0f0f0f)}
.contact-grid{display:grid; grid-template-columns:1fr; gap:18px}
.contact-card{
  border:1px solid rgba(226,27,35,.3); border-radius:16px; padding:20px;
  background:linear-gradient(180deg, rgba(226,27,35,.04), rgba(226,27,35,.015)); box-shadow:var(--shadow)
}
.contact-list{display:grid; gap:12px}
.contact-item{display:grid; grid-template-columns:40px 1fr; gap:12px; align-items:start}
.icon-circle{
  width:40px; height:40px; display:grid; place-items:center;
  border:1px solid var(--line); border-radius:999px; background:rgba(226,27,35,.06); color:var(--red)
}
.contact-text .label{font-family:"Cinzel",serif; letter-spacing:.03em; color:var(--red); font-size:14px}
.contact-text .value{color:var(--offwhite)}
.contact-note{margin-top:8px; color:#e0dfdc}

/* ===========================
   MAPPA
   =========================== */
.map-card{padding:0; border-radius:14px; overflow:hidden; box-shadow:var(--shadow)}
.map-wrapper{position:relative; width:100%}
.map{width:100%; height:300px; border:0; display:block; border-radius:14px}

/* ===========================
   CTA band + Footer
   =========================== */
.cta-band{border-top:1px solid var(--line); border-bottom:1px solid var(--line); background:linear-gradient(180deg,#0f0f0f,#0a0a0a); padding:36px 0; margin-bottom:10px}
.cta-band-inner{display:flex; align-items:center; justify-content:space-between; gap:16px; flex-wrap:wrap}
.cta-title{margin:0 0 6px}
.cta-sub{margin:0; color:#e0dfdc}
.cta-actions{display:flex; gap:10px; flex-wrap:wrap}
.footer{padding:22px 0 calc(34px + env(safe-area-inset-bottom)); border-top:1px solid var(--line); text-align:center; color:#d6d4d0}

/* ===========================
   FAB "Torna su" (progress ring)
   =========================== */
.fab-top{
  position: fixed;
  right: calc(16px + env(safe-area-inset-right));
  bottom: calc(96px + env(safe-area-inset-bottom)); /* sopra a WhatsApp */
  width: 50px; height: 50px; border-radius: 999px;
  border: none; cursor: pointer; z-index: 130;
  background: rgba(20,20,20,.9);
  color: #fff;
  box-shadow: 0 10px 22px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.06);
  display: grid; place-items: center;
  transition: transform .12s ease, opacity .18s ease, filter .12s ease;
  /* progress ring dietro al tasto */
  --p: 0deg;
  isolation: isolate; /* per il pseudo-element */
}
.fab-top::before{
  content: "";
  position: absolute; inset: -3px; border-radius: inherit; z-index: -1;
  background:
    conic-gradient(var(--red) var(--p), rgba(226,27,35,.18) 0);
  filter: drop-shadow(0 2px 10px rgba(226,27,35,.25));
}
.fab-top:hover{ transform: translateY(-2px); filter: brightness(1.05); }
.fab-top:active{ transform: translateY(0); }
.fab-top__icon{
  font-size: 20px; line-height: 1;
  width: 28px; height: 28px; border-radius: 50%;
  display: grid; place-items: center;
  background: linear-gradient(180deg, #141414, #0e0e0e);
  border: 1px solid rgba(255,255,255,.08);
}

/* Mostra/Nascondi con fade */
.fab-top{ opacity: 0; pointer-events: none; }
.fab-top.is-visible{ opacity: 1; pointer-events: auto; }

/* Schermi piccoli: leggermente più vicino al bordo e un filo più piccolo */
@media (max-width: 480px){
  .fab-top{
    right: calc(18px + env(safe-area-inset-right));
    bottom: calc(92px + env(safe-area-inset-bottom));
    width: 48px; height: 48px;
  }
}

/* Assicurati che il FAB WhatsApp resti sotto di ~40px */
.fab-whatsapp{
  bottom: calc(22px + env(safe-area-inset-bottom)); /* già nel tuo CSS */
  z-index: 120;
}

/* ===========================
   FLOATING WHATSAPP BUTTON (img)
   =========================== */
.fab-whatsapp{
  position:fixed;
  right:calc(16px + env(safe-area-inset-right));
  bottom:calc(22px + env(safe-area-inset-bottom));
  width:56px; height:56px; border-radius:999px; z-index:120;
  background:#25D366 url('whatsapp.png') center/60% no-repeat;
  box-shadow:0 10px 22px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.1);
  border:1px solid rgba(0,0,0,.25); transition:transform .12s ease, filter .12s ease
}
.fab-whatsapp:hover{transform:translateY(-2px); filter:brightness(1.05)}
.fab-whatsapp:active{transform:translateY(0)}

/* ===========================
   BREAKPOINTS
   =========================== */
@media (min-width: 680px){
  h1{font-size:40px}
  .section-title{font-size:30px}
  .bio-grid{grid-template-columns:1.1fr .9fr; gap:28px}
  .map{height:340px}
}
@media (min-width: 980px){
  h1{font-size:56px}
  .section-title{font-size:36px}
  .lead{font-size:18px}
  .container{padding:0 24px}
  .cta-band-inner{flex-wrap:nowrap}
}
@media (max-width: 860px){
  .hamburger{display:block}
  .nav-link{display:none}
}

/* ==== Scroll anchoring / padding top */
:root { --nav-h: 64px; }
html{ scroll-padding-top: var(--nav-h); }
main{ padding-bottom: calc(120px + env(safe-area-inset-bottom)); }